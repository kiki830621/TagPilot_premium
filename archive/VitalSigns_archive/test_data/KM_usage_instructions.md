# KM Example Data Usage Instructions

## 關於 KM 範例資料

這些是真實的 Amazon 銷售報告檔案，來自 Kitchen Mama 產品的銷售數據：

### 檔案列表
- `2_1_23, 12_00 AM - 2_7_23, 11_59 PM.csv` - 2023年2月1-7日銷售數據
- `2_8_23, 12_00 AM - 2_14_23, 11_59 PM.csv` - 2023年2月8-14日銷售數據  
- `2_15_23, 12_00 AM - 2_21_23, 11_59 PM.csv` - 2023年2月15-21日銷售數據
- `2_22_23, 12_00 AM - 2_28_23, 11_59 PM.csv` - 2023年2月22-28日銷售數據

### 資料特徵
- **客戶識別**: 使用 `Buyer Email` (已匿名化，如: `6dmg40tnw1lps6v@marketplace.amazon.com`)
- **交易時間**: `Purchase Date` 和 `Payments Date` 
- **交易金額**: `Item Price` (美元，範圍約 $12.99 - $39.99)
- **產品資訊**: Kitchen Mama 電動開罐器和相關配件
- **總記錄數**: 約 20,000+ 筆交易記錄

## 使用步驟

### 1. 啟動應用程式
```bash
cd InsightForge
Rscript app.R
```

### 2. 登入系統
使用您的認證登入 InsightForge 平台

### 3. 進入 DNA 分析
- 點擊側邊欄的「客戶 DNA 分析」
- 進入多檔案上傳模式

### 4. 上傳 KM 檔案
- 點擊「選擇多個CSV檔案」
- 同時選擇所有 4 個 KM 檔案：
  - `2_1_23, 12_00 AM - 2_7_23, 11_59 PM.csv`
  - `2_8_23, 12_00 AM - 2_14_23, 11_59 PM.csv`
  - `2_15_23, 12_00 AM - 2_21_23, 11_59 PM.csv`
  - `2_22_23, 12_00 AM - 2_28_23, 11_59 PM.csv`

### 5. 調整分析參數
- **最少交易次數**: 建議設為 2-3 (篩選重複購買客戶)
- **時間折扣因子**: 保持預設 0.1 
- **自動偵測欄位**: 保持勾選 ✓
- **跳過主體內分析**: 可勾選以提升處理速度

### 6. 執行分析
- 點擊「🚀 合併檔案並執行DNA分析」
- 系統將自動：
  - 合併 4 個檔案
  - 偵測欄位對應 (Buyer Email → 客戶ID, Purchase Date → 時間, Item Price → 金額)
  - 將匿名化郵件轉換為數字客戶ID
  - 執行完整的 DNA 分析

## 預期結果

### 資料處理
- **總記錄數**: ~20,000+ 筆交易
- **有效客戶數**: ~15,000+ 位客戶
- **分析期間**: 2023年2月份 (28天)

### DNA 指標分析
- **R (Recency)**: 最後購買時間距今天數
- **F (Frequency)**: 購買頻率 (大多數客戶為 1-2 次)
- **M (Monetary)**: 平均訂單金額 (~$30)
- **IPT**: 購買間隔時間
- **CAI**: 客戶活躍指數
- **PCV**: 購買一致性
- **CLV**: 客戶終身價值
- **NES**: 淨參與度評分

### 預期洞察
1. **客戶分佈**: 大部分為一次性購買客戶
2. **價格區間**: 集中在 $13-40 之間
3. **產品偏好**: 電動開罐器系列為主
4. **時間模式**: 2月份期間的消費行為變化

## 視覺化功能

分析完成後，可使用以下視覺化功能：

### 📊 分佈視覺化
- **ECDF圖**: 各項 DNA 指標的累積分佈函數
- **直方圖**: 指標數值的頻率分佈
- **互動式圖表**: 使用 Plotly 支援縮放、選擇

### 📋 資料表
- **完整DNA資料表**: 所有客戶的詳細 DNA 指標
- **統計摘要**: 各指標的平均值、中位數等
- **客戶洞察**: 高價值客戶、活躍客戶、待激活客戶

## 注意事項

1. **隱私保護**: 所有客戶郵件已完全匿名化
2. **處理時間**: 大檔案合併可能需要幾分鐘
3. **記憶體需求**: 確保系統有足夠記憶體處理大型資料集
4. **瀏覽器相容性**: 建議使用 Chrome 或 Firefox 以獲得最佳體驗

## 故障排除

### 常見問題
- **上傳失敗**: 檢查檔案格式和大小限制
- **欄位偵測失敗**: 關閉自動偵測，手動確認欄位名稱
- **分析錯誤**: 檢查資料格式和時間欄位格式
- **視覺化載入慢**: 調整最少交易次數以減少資料量

### 支援聯絡
如遇到技術問題，請檢查：
1. R console 的錯誤訊息
2. 瀏覽器開發者工具的 console
3. 確認所有必要套件已安裝 