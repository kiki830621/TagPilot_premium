# NSQL Translators

This directory contains translator implementations for the Natural SQL Language (NSQL) as defined in MP24. These translators transform NSQL abstract syntax trees (ASTs) into executable code in various target languages.

## Available Translators

- **sql_translator.R**: Translates NSQL to standard SQL
- **dplyr_translator.R**: Translates NSQL to R dplyr code
- **pandas_translator.R**: Translates NSQL to Python pandas code
- **spark_translator.R**: Translates NSQL to Spark SQL

## Translator Interface

All translators implement the following interface:

```r
translate_nsql <- function(ast, options = list()) {
  # Translate the NSQL AST to target language
  # Returns a string with the translated code
}
```

The AST input follows the standard structure generated by the parsers.

## Translation Process

Each translator follows these steps:

1. **Validation**: Verify that the AST is valid and can be translated
2. **Source Mapping**: Map the source table to the target language's data reference
3. **Operation Translation**: Translate each operation to the target language
4. **Optimization**: Apply language-specific optimizations
5. **Code Generation**: Generate the final code in the target language

## Translator Options

Translators accept options that control the translation process:

- **dialect**: SQL dialect for SQL translator (e.g., "postgresql", "mysql")
- **indentation**: Number of spaces for indentation (default: 2)
- **include_comments**: Whether to include explanatory comments (default: TRUE)
- **optimize**: Whether to apply optimizations (default: TRUE)

## Usage Example

```r
library(nsql)

# Parse an NSQL statement
ast <- parse_nsql("transform Sales to Summary as sum(revenue) as total grouped by region")

# Translate to SQL
sql_code <- translate_nsql(ast, list(target = "sql", dialect = "postgresql"))

# Translate to dplyr
dplyr_code <- translate_nsql(ast, list(target = "dplyr"))

# Translate to pandas
pandas_code <- translate_nsql(ast, list(target = "pandas"))
```